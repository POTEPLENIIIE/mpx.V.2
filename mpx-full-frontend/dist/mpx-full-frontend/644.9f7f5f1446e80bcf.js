"use strict";(self.webpackChunkmpx_full_frontend=self.webpackChunkmpx_full_frontend||[]).push([[644],{3644:(x,p,s)=>{s.r(p),s.d(p,{LoginComponent:()=>m});var e=s(4341),a=s(1069),i=s(177),g=s(8166),l=s(708),n=s(4438),d=s(4796);function f(o,c){if(1&o&&(n.j41(0,"div",14),n.EFF(1),n.k0s()),2&o){const r=n.XpG();n.Y8G("ngClass",r.toastType),n.R7$(),n.SpI(" ",r.toastMessage,"\n")}}function _(o,c){1&o&&(n.j41(0,"div",15),n.EFF(1," \u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u043e\u0440\u0435\u043a\u0442\u043d\u0438\u0439 email \u0430\u0431\u043e \u0456\u043c'\u044f \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 "),n.k0s())}function C(o,c){1&o&&(n.j41(0,"div",15),n.EFF(1," \u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u043c "),n.k0s())}let m=(()=>{class o{constructor(r,u,t){this.fb=r,this.AuthService=u,this.router=t,this.showPassword=!1,this.toastMessage=null,this.toastType="success",this.errorMessage="",this.loginForm=this.fb.group({usernameOrEmail:["",[e.k0.required]],password:["",e.k0.required]})}get usernameOrEmail(){return this.loginForm.get("usernameOrEmail")}get password(){return this.loginForm.get("password")}togglePassword(){this.showPassword=!this.showPassword}showToast(r,u="success"){this.toastMessage=r,this.toastType=u,setTimeout(()=>{this.toastMessage=null},3e3)}login(){const{usernameOrEmail:r,password:u}=this.loginForm.value;this.AuthService.login({usernameOrEmail:r,password:u}).subscribe({next:t=>{localStorage.setItem("token",t.token),this.showToast("\u0423\u0441\u043f\u0456\u0448\u043d\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0456\u044f!","success"),setTimeout(()=>{this.router.navigate(["/profile"])},1e3)},error:t=>{this.showToast("\u041d\u0435\u0432\u0456\u0434\u043e\u043c\u0430 \u043f\u043e\u043c\u0438\u043b\u043a\u0430","error"),console.error(t)}})}static{this.\u0275fac=function(u){return new(u||o)(n.rXU(e.ok),n.rXU(d.u),n.rXU(a.Ix))}}static{this.\u0275cmp=n.VBU({type:o,selectors:[["app-login"]],standalone:!0,features:[n.aNF],decls:24,vars:6,consts:[["class","toast",3,"ngClass",4,"ngIf"],[1,"auth-wrapper"],[1,"auth-box"],[3,"ngSubmit","formGroup"],["type","text","formControlName","usernameOrEmail","placeholder","Email \u0430\u0431\u043e \u0406\u043c'\u044f \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430"],["class","error",4,"ngIf"],[1,"password-group"],["formControlName","password","placeholder","\u041f\u0430\u0440\u043e\u043b\u044c",3,"type"],[1,"toggle",3,"click"],[1,"forgot-link"],["routerLink","/forgot-password"],["type","submit",3,"disabled"],[1,"switch-link"],["routerLink","/register"],[1,"toast",3,"ngClass"],[1,"error"]],template:function(u,t){1&u&&(n.nrm(0,"app-navbar"),n.DNE(1,f,2,2,"div",0),n.j41(2,"section",1)(3,"div",2)(4,"h2"),n.EFF(5,"\u0423\u0432\u0456\u0439\u0442\u0438"),n.k0s(),n.j41(6,"form",3),n.bIt("ngSubmit",function(){return t.login()}),n.nrm(7,"input",4),n.DNE(8,_,2,0,"div",5),n.j41(9,"div",6),n.nrm(10,"input",7),n.j41(11,"span",8),n.bIt("click",function(){return t.togglePassword()}),n.EFF(12,"\u{1f441}"),n.k0s()(),n.DNE(13,C,2,0,"div",5),n.j41(14,"div",9)(15,"a",10),n.EFF(16,"\u0417\u0430\u0431\u0443\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"),n.k0s()(),n.j41(17,"button",11),n.EFF(18,"\u0423\u0432\u0456\u0439\u0442\u0438"),n.k0s(),n.j41(19,"div",12),n.EFF(20," \u041d\u0435\u043c\u0430\u0454 \u0430\u043a\u0430\u0443\u043d\u0442\u0443? "),n.j41(21,"a",13),n.EFF(22,"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f"),n.k0s()()()()(),n.nrm(23,"app-footer")),2&u&&(n.R7$(),n.Y8G("ngIf",t.toastMessage),n.R7$(5),n.Y8G("formGroup",t.loginForm),n.R7$(2),n.Y8G("ngIf",t.loginForm.controls.usernameOrEmail.invalid&&t.loginForm.controls.usernameOrEmail.touched),n.R7$(2),n.Y8G("type",t.showPassword?"text":"password"),n.R7$(3),n.Y8G("ngIf",(null==t.password?null:t.password.invalid)&&(null==t.password?null:t.password.touched)),n.R7$(4),n.Y8G("disabled",t.loginForm.invalid))},dependencies:[a.iI,a.Wk,g._,e.X1,e.qT,e.me,e.BC,e.cb,e.j4,e.JD,l.n,i.MD,i.YU,i.bT],styles:[".auth-wrapper[_ngcontent-%COMP%]{min-height:calc(100vh - 160px);background-color:#151515;display:flex;align-items:center;justify-content:center;padding:140px 20px 40px}.auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]{background-color:#fff;color:#000;border-radius:16px;padding:40px 30px;width:100%;max-width:420px;box-shadow:0 0 25px #00000080;text-align:center;transition:transform .3s ease}.auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:30px;color:#b96cfc;font-size:28px}.auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:18px}.auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:12px 14px;font-size:16px;border-radius:10px;border:1.5px solid #ccc;transition:border .3s}.auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3f5fff;box-shadow:0 0 6px #3f5fff80}.auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px;font-size:17px;font-weight:600;background-color:#3f5fff;color:#fff;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ff3f3f}.auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#999;cursor:not-allowed}.auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-link[_ngcontent-%COMP%]{margin-top:10px;font-size:14px}.auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3f5fff;text-decoration:none;font-weight:500}.auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.forgot-link[_ngcontent-%COMP%]{font-size:14px;margin-top:-8px;margin-bottom:10px;text-align:right}.forgot-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3f5fff;text-decoration:none;font-weight:500}.forgot-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.error[_ngcontent-%COMP%]{font-size:13px;color:#ff3f3f;text-align:left;margin-top:-10px;margin-bottom:8px;padding-left:4px}.password-group[_ngcontent-%COMP%]{position:relative}.password-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px 40px 12px 14px;font-size:16px;border-radius:10px;border:1.5px solid #ccc;transition:border .3s;box-sizing:border-box}.password-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3f5fff;box-shadow:0 0 6px #3f5fff80}.password-group[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{position:absolute;top:50%;right:12px;transform:translateY(-50%);font-size:18px;color:#888;cursor:pointer;-webkit-user-select:none;user-select:none;z-index:2}.password-group[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]:hover{color:#3f5fff}.toast[_ngcontent-%COMP%]{position:fixed;top:30px;right:30px;padding:14px 22px;border-radius:8px;font-weight:500;font-size:15px;box-shadow:0 4px 12px #0000004d;z-index:9999;animation:_ngcontent-%COMP%_fadein .4s ease,fadeout .4s ease 2.5s;border:1.5px solid}.toast.success[_ngcontent-%COMP%]{background-color:#22df58;color:#000;border-color:#1bbf4c}.toast.error[_ngcontent-%COMP%]{background-color:#ff3f3f;color:#fff;border-color:#d43030}@keyframes _ngcontent-%COMP%_fadein{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeout{0%{opacity:1}to{opacity:0}}@media (max-width: 480px){.auth-wrapper[_ngcontent-%COMP%]{padding:140px 10px 20px}.auth-box[_ngcontent-%COMP%]{padding:25px 16px;border-radius:12px}.auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{gap:14px}.auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:15px;padding:10px 12px}.auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:16px;padding:10px}}"]})}}return o})()}}]);
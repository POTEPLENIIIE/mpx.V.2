"use strict";(self.webpackChunkmpx_full_frontend=self.webpackChunkmpx_full_frontend||[]).push([[600],{600:(x,p,u)=>{u.r(p),u.d(p,{RegisterComponent:()=>M});var o=u(4341),i=u(177),g=u(8166),l=u(708),t=u(4438),d=u(4796),f=u(1069);function m(e,a){if(1&e&&(t.j41(0,"div",14),t.EFF(1),t.k0s()),2&e){const r=t.XpG();t.Y8G("ngClass",r.toastType),t.R7$(),t.SpI(" ",r.toastMessage,"\n")}}function _(e,a){1&e&&(t.j41(0,"div",15),t.EFF(1," \u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043c\u0456\u043d\u0456\u043c\u0443\u043c 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0438 "),t.k0s())}function C(e,a){1&e&&(t.j41(0,"div",15),t.EFF(1," \u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u043e\u0440\u0435\u043a\u0442\u043d\u0438\u0439 email "),t.k0s())}function h(e,a){1&e&&(t.j41(0,"div",15),t.EFF(1," \u041f\u0430\u0440\u043e\u043b\u044c \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432 "),t.k0s())}function P(e,a){1&e&&(t.j41(0,"div",15),t.EFF(1," \u041f\u0430\u0440\u043e\u043b\u0456 \u043d\u0435 \u0441\u043f\u0456\u0432\u043f\u0430\u0434\u0430\u044e\u0442\u044c "),t.k0s())}let M=(()=>{class e{constructor(r,s,n){this.fb=r,this.authService=s,this.router=n,this.showPassword=!1,this.showConfirmPassword=!1,this.toastMessage=null,this.toastType="success",this.registerForm=this.fb.group({username:["",[o.k0.required,o.k0.minLength(3)]],email:["",[o.k0.required,o.k0.email]],password:["",[o.k0.required,o.k0.minLength(6)]],confirmPassword:["",o.k0.required]},{validators:this.passwordMatchValidator})}get username(){return this.registerForm.get("username")}get email(){return this.registerForm.get("email")}get password(){return this.registerForm.get("password")}get confirmPassword(){return this.registerForm.get("confirmPassword")}togglePassword(){this.showPassword=!this.showPassword}toggleConfirmPassword(){this.showConfirmPassword=!this.showConfirmPassword}passwordMatchValidator(r){const s=r.get("password")?.value,n=r.get("confirmPassword")?.value;return s===n?null:{mismatch:!0}}showToast(r,s="success"){this.toastMessage=r,this.toastType=s,setTimeout(()=>{this.toastMessage=null},3e3)}onSubmit(){if(this.registerForm.valid){const r=this.registerForm.value,s={username:r.username.trim(),email:r.email.trim().toLowerCase(),password:r.password};this.authService.register(s).subscribe({next:()=>{this.showToast("\u0423\u0441\u043f\u0456\u0448\u043d\u0430 \u0440\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f!","success"),setTimeout(()=>{window.location.href="/profile"},1e3)},error:n=>{console.error(n),this.showToast(n.error?.message||"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0440\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u0457","error")}})}}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(o.ok),t.rXU(d.u),t.rXU(f.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-register"]],standalone:!0,features:[t.aNF],decls:28,vars:9,consts:[["class","toast",3,"ngClass",4,"ngIf"],[1,"auth-wrapper"],[1,"auth-box"],[3,"ngSubmit","formGroup"],["type","text","formControlName","username","placeholder","\u0406\u043c'\u044f \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430"],["class","error",4,"ngIf"],["type","email","formControlName","email","placeholder","Email"],[1,"password-group"],["formControlName","password","placeholder","\u041f\u0430\u0440\u043e\u043b\u044c",3,"type"],[1,"toggle",3,"click"],["formControlName","confirmPassword","placeholder","\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",3,"type"],["type","submit",3,"disabled"],[1,"switch-link"],["routerLink","/login"],[1,"toast",3,"ngClass"],[1,"error"]],template:function(s,n){1&s&&(t.nrm(0,"app-navbar"),t.DNE(1,m,2,2,"div",0),t.j41(2,"section",1)(3,"div",2)(4,"h2"),t.EFF(5,"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"),t.k0s(),t.j41(6,"form",3),t.bIt("ngSubmit",function(){return n.onSubmit()}),t.nrm(7,"input",4),t.DNE(8,_,2,0,"div",5),t.nrm(9,"input",6),t.DNE(10,C,2,0,"div",5),t.j41(11,"div",7),t.nrm(12,"input",8),t.j41(13,"span",9),t.bIt("click",function(){return n.togglePassword()}),t.EFF(14,"\u{1f441}"),t.k0s()(),t.DNE(15,h,2,0,"div",5),t.j41(16,"div",7),t.nrm(17,"input",10),t.j41(18,"span",9),t.bIt("click",function(){return n.toggleConfirmPassword()}),t.EFF(19,"\u{1f441}"),t.k0s()(),t.DNE(20,P,2,0,"div",5),t.j41(21,"button",11),t.EFF(22," \u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f "),t.k0s(),t.j41(23,"div",12),t.EFF(24," \u041c\u0430\u0454\u0448 \u0430\u043a\u0430\u0443\u043d\u0442? "),t.j41(25,"a",13),t.EFF(26,"\u0423\u0432\u0456\u0439\u0442\u0438"),t.k0s()()()()(),t.nrm(27,"app-footer")),2&s&&(t.R7$(),t.Y8G("ngIf",n.toastMessage),t.R7$(5),t.Y8G("formGroup",n.registerForm),t.R7$(2),t.Y8G("ngIf",(null==n.username?null:n.username.invalid)&&(null==n.username?null:n.username.touched)),t.R7$(2),t.Y8G("ngIf",(null==n.email?null:n.email.invalid)&&(null==n.email?null:n.email.touched)),t.R7$(2),t.Y8G("type",n.showPassword?"text":"password"),t.R7$(3),t.Y8G("ngIf",(null==n.password?null:n.password.invalid)&&(null==n.password?null:n.password.touched)),t.R7$(2),t.Y8G("type",n.showConfirmPassword?"text":"password"),t.R7$(3),t.Y8G("ngIf",n.registerForm.hasError("mismatch")&&(null==n.confirmPassword?null:n.confirmPassword.touched)),t.R7$(),t.Y8G("disabled",n.registerForm.invalid||n.registerForm.pristine))},dependencies:[i.MD,i.YU,i.bT,o.X1,o.qT,o.me,o.BC,o.cb,o.j4,o.JD,g._,l.n],styles:[".auth-wrapper[_ngcontent-%COMP%]{min-height:calc(100vh - 160px);background-color:#151515;display:flex;align-items:center;justify-content:center;padding:140px 20px 40px}.auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]{background-color:#fff;color:#000;border-radius:16px;padding:40px 30px;width:100%;max-width:420px;box-shadow:0 0 25px #00000080;text-align:center;transition:transform .3s ease}.auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:30px;color:#b96cfc;font-size:28px}.auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:18px}.auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:12px 14px;font-size:16px;border-radius:10px;border:1.5px solid #ccc;transition:border .3s}.auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3f5fff;box-shadow:0 0 6px #3f5fff80}.auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px;font-size:17px;font-weight:600;background-color:#3f5fff;color:#fff;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ff3f3f}.auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#999;cursor:not-allowed}.auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-link[_ngcontent-%COMP%]{margin-top:10px;font-size:14px}.auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3f5fff;text-decoration:none;font-weight:500}.auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.error[_ngcontent-%COMP%]{font-size:13px;color:#ff3f3f;text-align:left;margin-top:-10px;margin-bottom:8px;padding-left:4px}.password-group[_ngcontent-%COMP%]{position:relative}.password-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px 40px 12px 14px;font-size:16px;border-radius:10px;border:1.5px solid #ccc;transition:border .3s;box-sizing:border-box}.password-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3f5fff;box-shadow:0 0 6px #3f5fff80}.password-group[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{position:absolute;top:50%;right:12px;transform:translateY(-50%);font-size:18px;color:#888;cursor:pointer;-webkit-user-select:none;user-select:none;z-index:2}.password-group[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]:hover{color:#3f5fff}.toast[_ngcontent-%COMP%]{position:fixed;top:100px;right:30px;padding:14px 22px;border-radius:8px;font-weight:500;font-size:15px;box-shadow:0 4px 12px #0000004d;z-index:9999;animation:_ngcontent-%COMP%_fadein .4s ease,fadeout .4s ease 2.5s;border:1.5px solid}.toast.success[_ngcontent-%COMP%]{background-color:#22df58;color:#000;border-color:#1bbf4c}.toast.error[_ngcontent-%COMP%]{background-color:#ff3f3f;color:#fff;border-color:#d43030}@keyframes _ngcontent-%COMP%_fadein{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeout{0%{opacity:1}to{opacity:0}}@media (max-width: 480px){.auth-wrapper[_ngcontent-%COMP%]{padding:140px 10px 20px}.auth-box[_ngcontent-%COMP%]{padding:25px 16px;border-radius:12px}.auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{gap:14px}.auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:15px;padding:10px 12px}.auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:16px;padding:10px}}"]})}}return e})()}}]);
"use strict";(self.webpackChunkmpx_full_frontend=self.webpackChunkmpx_full_frontend||[]).push([[184],{9184:(x,a,e)=>{e.r(a),e.d(a,{ResetPasswordComponent:()=>C});var n=e(4341),i=e(177),m=e(8166),c=e(708),o=e(4438),f=e(1069),l=e(1626);function h(s,p){1&s&&(o.j41(0,"div",8),o.EFF(1," \u041c\u0456\u043d\u0456\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432 "),o.k0s())}function g(s,p){1&s&&(o.j41(0,"div",8),o.EFF(1," \u041f\u0430\u0440\u043e\u043b\u0456 \u043d\u0435 \u0441\u043f\u0456\u0432\u043f\u0430\u0434\u0430\u044e\u0442\u044c "),o.k0s())}function _(s,p){if(1&s&&(o.j41(0,"div",9),o.EFF(1),o.k0s()),2&s){const r=o.XpG();o.R7$(),o.JRh(r.message)}}let C=(()=>{class s{constructor(r,u,t,d){this.fb=r,this.route=u,this.http=t,this.router=d,this.token="",this.message="",this.isLoading=!1,this.form=this.fb.group({password:["",[n.k0.required,n.k0.minLength(6)]],confirmPassword:["",n.k0.required]},{validators:this.passwordsMatch})}ngOnInit(){this.token=this.route.snapshot.queryParamMap.get("token")||""}passwordsMatch(r){const u=r.get("password")?.value,t=r.get("confirmPassword")?.value;return u===t?null:{mismatch:!0}}onSubmit(){if(this.form.invalid||!this.token)return;this.isLoading=!0;const{password:r}=this.form.value;this.http.post("/api/auth/reset-password",{token:this.token,password:r}).subscribe({next:()=>{this.message="\u2705 \u041f\u0430\u0440\u043e\u043b\u044c \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0437\u043c\u0456\u043d\u0435\u043d\u043e!",setTimeout(()=>this.router.navigate(["/login"]),2e3)},error:()=>{this.message="\u274c \u041d\u0435\u0432\u0456\u0440\u043d\u0438\u0439 \u0430\u0431\u043e \u043f\u0440\u043e\u0442\u0435\u0440\u043c\u0456\u043d\u043e\u0432\u0430\u043d\u0438\u0439 \u0442\u043e\u043a\u0435\u043d"},complete:()=>this.isLoading=!1})}static{this.\u0275fac=function(u){return new(u||s)(o.rXU(n.ok),o.rXU(f.nX),o.rXU(l.Qq),o.rXU(f.Ix))}}static{this.\u0275cmp=o.VBU({type:s,selectors:[["app-reset-password"]],standalone:!0,features:[o.aNF],decls:14,vars:5,consts:[[1,"auth-wrapper"],[1,"auth-box"],[3,"ngSubmit","formGroup"],["type","password","formControlName","password","placeholder","\u041d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"],["class","error",4,"ngIf"],["type","password","formControlName","confirmPassword","placeholder","\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"],["type","submit",3,"disabled"],["class","info",4,"ngIf"],[1,"error"],[1,"info"]],template:function(u,t){1&u&&(o.nrm(0,"app-navbar"),o.j41(1,"section",0)(2,"div",1)(3,"h2"),o.EFF(4,"\u0421\u043a\u0438\u0434\u0430\u043d\u043d\u044f \u043f\u0430\u0440\u043e\u043b\u044e"),o.k0s(),o.j41(5,"form",2),o.bIt("ngSubmit",function(){return t.onSubmit()}),o.nrm(6,"input",3),o.DNE(7,h,2,0,"div",4),o.nrm(8,"input",5),o.DNE(9,g,2,0,"div",4),o.j41(10,"button",6),o.EFF(11,"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"),o.k0s(),o.DNE(12,_,2,1,"div",7),o.k0s()()(),o.nrm(13,"app-footer")),2&u&&(o.R7$(5),o.Y8G("formGroup",t.form),o.R7$(2),o.Y8G("ngIf",t.form.controls.password.invalid&&t.form.controls.password.touched),o.R7$(2),o.Y8G("ngIf",t.form.hasError("mismatch")&&t.form.controls.confirmPassword.touched),o.R7$(),o.Y8G("disabled",t.form.invalid||t.isLoading),o.R7$(2),o.Y8G("ngIf",t.message))},dependencies:[m._,c.n,i.MD,i.bT,n.X1,n.qT,n.me,n.BC,n.cb,n.j4,n.JD],styles:[".auth-wrapper[_ngcontent-%COMP%]{min-height:calc(100vh - 160px);background-color:#151515;display:flex;align-items:center;justify-content:center;padding:140px 20px 40px}.auth-box[_ngcontent-%COMP%]{background-color:#fff;color:#000;border-radius:16px;padding:40px 30px;width:100%;max-width:420px;box-shadow:0 0 25px #00000080;text-align:center}.auth-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:30px;color:#3f5fff;font-size:28px}.auth-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:12px 14px;font-size:16px;border-radius:10px;border:1.5px solid #ccc;margin-bottom:10px;width:100%;box-sizing:border-box}.auth-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3f5fff;box-shadow:0 0 6px #3f5fff80}.auth-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px;font-size:17px;font-weight:600;background-color:#3f5fff;color:#fff;border:none;border-radius:10px;cursor:pointer;width:100%;margin-top:10px}.auth-box[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:13px;color:#ff3f3f;text-align:left;margin-top:-8px;margin-bottom:8px}.auth-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-top:16px;color:#22df58;font-weight:500}"]})}}return s})()}}]);
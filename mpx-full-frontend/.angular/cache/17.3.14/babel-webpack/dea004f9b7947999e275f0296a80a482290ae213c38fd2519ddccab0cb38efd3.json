{"ast":null,"code":"import { Validators } from \"@angular/forms\";\nimport { NavbarComponent } from \"../navbar/navbar.component\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../services/auth.service\";\nimport * as i3 from \"@angular/router\";\nfunction LoginComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1, \" \\u0412\\u0432\\u0435\\u0434\\u0456\\u0442\\u044C \\u043A\\u043E\\u0440\\u0435\\u043A\\u0442\\u043D\\u0438\\u0439 email \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1, \" \\u041F\\u0430\\u0440\\u043E\\u043B\\u044C \\u043D\\u0435 \\u043C\\u043E\\u0436\\u0435 \\u0431\\u0443\\u0442\\u0438 \\u043F\\u043E\\u0440\\u043E\\u0436\\u043D\\u0456\\u043C \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.errorMessage);\n  }\n}\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(fb, AuthService, router) {\n      this.fb = fb;\n      this.AuthService = AuthService;\n      this.router = router;\n      this.errorMessage = \"\";\n      this.loginForm = this.fb.group({\n        email: [\"\", [Validators.required, Validators.email]],\n        password: [\"\", Validators.required]\n      });\n    }\n    login() {\n      const {\n        email,\n        password\n      } = this.loginForm.value;\n      this.AuthService.login({\n        email,\n        password\n      }).subscribe({\n        next: res => {\n          localStorage.setItem(\"token\", res.token);\n          this.router.navigate([\"/dashboard\"]);\n        },\n        error: err => {\n          this.errorMessage = err.error?.message || \"Невідома помилка\";\n        }\n      });\n    }\n    static {\n      this.ɵfac = function LoginComponent_Factory(t) {\n        return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: LoginComponent,\n        selectors: [[\"app-login\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 13,\n        vars: 5,\n        consts: [[1, \"login-container\"], [1, \"login-form\"], [3, \"ngSubmit\", \"formGroup\"], [\"type\", \"email\", \"formControlName\", \"email\", \"placeholder\", \"Email\"], [\"class\", \"error\", 4, \"ngIf\"], [\"type\", \"password\", \"formControlName\", \"password\", \"placeholder\", \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"], [\"type\", \"submit\", 3, \"disabled\"], [\"class\", \"error-message\", 4, \"ngIf\"], [1, \"error\"], [1, \"error-message\"]],\n        template: function LoginComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0);\n            i0.ɵɵelement(1, \"app-navbar\");\n            i0.ɵɵelementStart(2, \"div\", 1)(3, \"h2\");\n            i0.ɵɵtext(4, \"\\u0423\\u0432\\u0456\\u0439\\u0442\\u0438\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"form\", 2);\n            i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_5_listener() {\n              return ctx.login();\n            });\n            i0.ɵɵelement(6, \"input\", 3);\n            i0.ɵɵtemplate(7, LoginComponent_div_7_Template, 2, 0, \"div\", 4);\n            i0.ɵɵelement(8, \"input\", 5);\n            i0.ɵɵtemplate(9, LoginComponent_div_9_Template, 2, 0, \"div\", 4);\n            i0.ɵɵelementStart(10, \"button\", 6);\n            i0.ɵɵtext(11, \"\\u0423\\u0432\\u0456\\u0439\\u0442\\u0438\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(12, LoginComponent_div_12_Template, 2, 1, \"div\", 7);\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.loginForm.controls.email.invalid && ctx.loginForm.controls.email.touched);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.loginForm.controls.password.invalid && ctx.loginForm.controls.password.touched);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"disabled\", ctx.loginForm.invalid);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          }\n        },\n        dependencies: [NavbarComponent],\n        styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%]; (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  {// webpackBootstrap var __webpack_modules__ = ({350: (() => {throw new Error(\\\"Module build failed (from ./node_modules/sass-loader/dist/cjs.js):nExpected expression.n   \\\\2577n44 \\\\2502      font-size:rn   \\\\2502                ^n   \\\\2575n  src\\\\\\\\app\\\\\\\\login\\\\\\\\login.component.scss 44:15  root stylesheet\\\");})}); // startup // Load entry module and return exports // This entry module doesn\\\"t tell about it\\\"s top-level declarations so it can't be inlined\\nvar __webpack_exports__ = {}; __webpack_modules__[350](); resource = __webpack_exports__;})()[_ngcontent-%COMP%]   ;[_ngcontent-%COMP%]{}\"]\n      });\n    }\n  }\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
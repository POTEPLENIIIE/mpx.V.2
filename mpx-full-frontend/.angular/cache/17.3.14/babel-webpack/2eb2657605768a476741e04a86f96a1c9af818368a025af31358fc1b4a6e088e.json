{"ast":null,"code":"import { __esDecorate, __runInitializers } from \"tslib\";\nimport { Component } from \"@angular/core\";\nimport { AvatarUploadComponent } from \"../avatar-upload/avatar-upload.component\";\nimport { NavbarComponent } from \"../navbar/navbar.component\";\nimport { FooterComponent } from \"../footer/footer.component\";\nimport { CommonModule } from \"@angular/common\";\nlet ProfileComponent = (() => {\n  let _classDecorators = [Component({\n    selector: \"app-profile\",\n    standalone: true,\n    imports: [CommonModule, NavbarComponent, FooterComponent, AvatarUploadComponent],\n    templateUrl: \"./profile.component.html\",\n    styleUrl: \"./profile.component.css\"\n  })];\n  let _classDescriptor;\n  let _classExtraInitializers = [];\n  let _classThis;\n  var ProfileComponent = class {\n    static {\n      _classThis = this;\n    }\n    static {\n      const _metadata = typeof Symbol === \"function\" && Symbol.metadata ? Object.create(null) : void 0;\n      __esDecorate(null, _classDescriptor = {\n        value: _classThis\n      }, _classDecorators, {\n        kind: \"class\",\n        name: _classThis.name,\n        metadata: _metadata\n      }, null, _classExtraInitializers);\n      ProfileComponent = _classThis = _classDescriptor.value;\n      if (_metadata) Object.defineProperty(_classThis, Symbol.metadata, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value: _metadata\n      });\n      __runInitializers(_classThis, _classExtraInitializers);\n    }\n    constructor(userService) {\n      this.userService = userService;\n      this.userData = {};\n      this.now = Date.now();\n      this.errorMessage = \"\";\n      this.toastMessage = \"\";\n      this.toastType = \"\";\n    }\n    ngOnInit() {\n      this.getUserData();\n    }\n    getUserData() {\n      this.userService.getUserProfile().subscribe({\n        next: data => {\n          console.log(\"üü¢ –ù–æ–≤—ñ –¥–∞–Ω—ñ:\", data);\n          this.userData = {\n            ...data\n          }; // –∫–ª–æ–Ω ‚Äî —â–æ–± Angular –ø–æ–º—ñ—Ç–∏–≤ –∑–º—ñ–Ω—É\n          this.now = Date.now(); // –æ–Ω–æ–≤–ª—é—î–º–æ timestamp\n          // üõ†Ô∏è –ü—Ä–∏–º—É—Å–æ–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è <img>\n          setTimeout(() => {\n            const img = document.getElementById(\"avatarPreview\");\n            if (img) {\n              img.src = `http://localhost:4000${this.userData.avatarUrl}?t=${this.now}`;\n              console.log(\"üîÅ –ü—Ä–∏–º—É—Å–æ–≤–æ –æ–Ω–æ–≤–ª–µ–Ω–æ src:\", img.src);\n            }\n          }, 100);\n        },\n        error: err => {\n          console.error(\"‚ùå –ü–æ–º–∏–ª–∫–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è:\", err);\n          this.errorMessage = \"–ù–µ –≤–¥–∞–ª–æ—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–Ω—ñ –ø—Ä–æ—Ñ—ñ–ª—é.\";\n        }\n      });\n    }\n  };\n  return ProfileComponent = _classThis;\n})();\nexport { ProfileComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}